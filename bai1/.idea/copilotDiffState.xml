<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/vn/edu/hust/bai1/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/vn/edu/hust/bai1/MainActivity.kt" />
              <option name="originalContent" value="package vn.edu.hust.bai1&#10;import android.os.Bundle&#10;import android.widget.Button&#10;import android.widget.EditText&#10;import android.widget.Toast&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.recyclerview.widget.LinearLayoutManager&#10;import androidx.recyclerview.widget.RecyclerView&#10;import vn.edu.hust.bai1data.Student&#10;&#10;class MainActivity : AppCompatActivity() {&#10;&#10;    private lateinit var etName: EditText&#10;    private lateinit var etMssv: EditText&#10;    private lateinit var btnAdd: Button&#10;    private lateinit var btnUpdate: Button&#10;    private lateinit var recyclerView: RecyclerView&#10;&#10;    private lateinit var adapter: StudentAdapter&#10;    private val studentList = mutableListOf&lt;Student&gt;()&#10;&#10;    // Biến lưu trữ sinh viên đang được chọn để sửa&#10;    private var selectedStudent: Student? = null&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_main)&#10;&#10;        // Ánh xạ view&#10;        etName = findViewById(R.id.etName)&#10;        etMssv = findViewById(R.id.etMssv)&#10;        btnAdd = findViewById(R.id.btnAdd)&#10;        btnUpdate = findViewById(R.id.btnUpdate)&#10;        recyclerView = findViewById(R.id.recyclerView)&#10;&#10;        // Khởi tạo dữ liệu mẫu (nếu cần)&#10;        studentList.add(Student(&quot;Nguyễn Văn A&quot;, &quot;20200001&quot;))&#10;        studentList.add(Student(&quot;Trần Thị B&quot;, &quot;20200002&quot;))&#10;&#10;        // Cấu hình RecyclerView&#10;        adapter = StudentAdapter(studentList,&#10;            onEditClick = { student -&gt;&#10;                // Khi nhấn vào item, hiển thị dữ liệu lên EditText&#10;                etName.setText(student.name)&#10;                etMssv.setText(student.mssv)&#10;                etMssv.isEnabled = false // Thường MSSV là khóa chính, không nên sửa, nhưng tùy logic bài&#10;&#10;                selectedStudent = student&#10;                btnUpdate.isEnabled = true&#10;                btnAdd.isEnabled = false&#10;            },&#10;            onDeleteClick = { student -&gt;&#10;                // Khi nhấn nút xóa&#10;                studentList.remove(student)&#10;                adapter.notifyDataSetChanged()&#10;&#10;                // Nếu đang sửa chính sinh viên bị xóa thì reset form&#10;                if (selectedStudent == student) {&#10;                    resetForm()&#10;                }&#10;            }&#10;        )&#10;&#10;        recyclerView.layoutManager = LinearLayoutManager(this)&#10;        recyclerView.adapter = adapter&#10;&#10;        // Xử lý nút Add&#10;        btnAdd.setOnClickListener {&#10;            val name = etName.text.toString()&#10;            val mssv = etMssv.text.toString()&#10;&#10;            if (name.isNotEmpty() &amp;&amp; mssv.isNotEmpty()) {&#10;                // Kiểm tra trùng MSSV (tùy chọn)&#10;                val exists = studentList.any { it.mssv == mssv }&#10;                if (!exists) {&#10;                    studentList.add(Student(name, mssv))&#10;                    adapter.notifyDataSetChanged()&#10;                    resetForm()&#10;                } else {&#10;                    Toast.makeText(this, &quot;MSSV đã tồn tại&quot;, Toast.LENGTH_SHORT).show()&#10;                }&#10;            } else {&#10;                Toast.makeText(this, &quot;Vui lòng nhập đủ thông tin&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;&#10;        // Xử lý nút Update&#10;        btnUpdate.setOnClickListener {&#10;            if (selectedStudent != null) {&#10;                selectedStudent?.name = etName.text.toString()&#10;                // selectedStudent?.mssv = etMssv.text.toString() // Nếu cho phép sửa MSSV&#10;&#10;                adapter.notifyDataSetChanged()&#10;                resetForm()&#10;                Toast.makeText(this, &quot;Cập nhật thành công&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun resetForm() {&#10;        etName.text.clear()&#10;        etMssv.text.clear()&#10;        etMssv.isEnabled = true&#10;        selectedStudent = null&#10;        btnAdd.isEnabled = true&#10;        btnUpdate.isEnabled = false&#10;        etMssv.requestFocus()&#10;    }&#10;}" />
              <option name="updatedContent" value="package vn.edu.hust.bai1&#10;import android.content.res.ColorStateList&#10;import android.os.Bundle&#10;import android.widget.Button&#10;import android.widget.EditText&#10;import android.widget.Toast&#10;import androidx.appcompat.app.AppCompatActivity&#10;import androidx.core.content.ContextCompat&#10;import androidx.recyclerview.widget.LinearLayoutManager&#10;import androidx.recyclerview.widget.RecyclerView&#10;import vn.edu.hust.bai1data.Student&#10;&#10;class MainActivity : AppCompatActivity() {&#10;&#10;    private lateinit var etName: EditText&#10;    private lateinit var etMssv: EditText&#10;    private lateinit var btnAdd: Button&#10;    private lateinit var btnUpdate: Button&#10;    private lateinit var recyclerView: RecyclerView&#10;&#10;    private lateinit var adapter: StudentAdapter&#10;    private val studentList = mutableListOf&lt;Student&gt;()&#10;&#10;    // Biến lưu trữ sinh viên đang được chọn để sửa&#10;    private var selectedStudent: Student? = null&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_main)&#10;&#10;        // Ánh xạ view&#10;        etName = findViewById(R.id.etName)&#10;        etMssv = findViewById(R.id.etMssv)&#10;        btnAdd = findViewById(R.id.btnAdd)&#10;        btnUpdate = findViewById(R.id.btnUpdate)&#10;        recyclerView = findViewById(R.id.recyclerView)&#10;&#10;        // Đảm bảo nút Update có cùng màu với nút Add ngay cả khi disabled&#10;        val buttonColor = ContextCompat.getColor(this, R.color.button_color)&#10;        btnUpdate.backgroundTintList = ColorStateList.valueOf(buttonColor)&#10;&#10;        // Khởi tạo dữ liệu mẫu (nếu cần)&#10;        studentList.add(Student(&quot;Nguyễn Văn A&quot;, &quot;20200001&quot;))&#10;        studentList.add(Student(&quot;Trần Thị B&quot;, &quot;20200002&quot;))&#10;&#10;        // Cấu hình RecyclerView&#10;        adapter = StudentAdapter(studentList,&#10;            onEditClick = { student -&gt;&#10;                // Khi nhấn vào item, hiển thị dữ liệu lên EditText&#10;                etName.setText(student.name)&#10;                etMssv.setText(student.mssv)&#10;                etMssv.isEnabled = false // Thường MSSV là khóa chính, không nên sửa, nhưng tùy logic bài&#10;&#10;                selectedStudent = student&#10;                btnUpdate.isEnabled = true&#10;                btnAdd.isEnabled = false&#10;            },&#10;            onDeleteClick = { student -&gt;&#10;                // Khi nhấn nút xóa&#10;                studentList.remove(student)&#10;                adapter.notifyDataSetChanged()&#10;&#10;                // Nếu đang sửa chính sinh viên bị xóa thì reset form&#10;                if (selectedStudent == student) {&#10;                    resetForm()&#10;                }&#10;            }&#10;        )&#10;&#10;        recyclerView.layoutManager = LinearLayoutManager(this)&#10;        recyclerView.adapter = adapter&#10;&#10;        // Xử lý nút Add&#10;        btnAdd.setOnClickListener {&#10;            val name = etName.text.toString()&#10;            val mssv = etMssv.text.toString()&#10;&#10;            if (name.isNotEmpty() &amp;&amp; mssv.isNotEmpty()) {&#10;                // Kiểm tra trùng MSSV (tùy chọn)&#10;                val exists = studentList.any { it.mssv == mssv }&#10;                if (!exists) {&#10;                    studentList.add(Student(name, mssv))&#10;                    adapter.notifyDataSetChanged()&#10;                    resetForm()&#10;                } else {&#10;                    Toast.makeText(this, &quot;MSSV đã tồn tại&quot;, Toast.LENGTH_SHORT).show()&#10;                }&#10;            } else {&#10;                Toast.makeText(this, &quot;Vui lòng nhập đủ thông tin&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;&#10;        // Xử lý nút Update&#10;        btnUpdate.setOnClickListener {&#10;            if (selectedStudent != null) {&#10;                selectedStudent?.name = etName.text.toString()&#10;                // selectedStudent?.mssv = etMssv.text.toString() // Nếu cho phép sửa MSSV&#10;&#10;                adapter.notifyDataSetChanged()&#10;                resetForm()&#10;                Toast.makeText(this, &quot;Cập nhật thành công&quot;, Toast.LENGTH_SHORT).show()&#10;            }&#10;        }&#10;    }&#10;&#10;    private fun resetForm() {&#10;        etName.text.clear()&#10;        etMssv.text.clear()&#10;        etMssv.isEnabled = true&#10;        selectedStudent = null&#10;        btnAdd.isEnabled = true&#10;        btnUpdate.isEnabled = false&#10;        etMssv.requestFocus()&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>